{% extends 'journal/navbar.html' %}

{% block content %}
<br>
<div class="container bg-light shadow-lg p-5 form-layout rounded">
    <h2 class="text-primary"> {{ user }} </h2>
    <p class="lead"> Welcome, {{ user }}! This is your dashboard</p>
    <img id="profile-pic" class="profile-pic" src="{{ profilePic.profile_pic.url }}"><br><br>
</div>

<!-- Modal -->
<div class="modal fade" id="profilePicModal" tabindex="-1" aria-labelledby="profilePicModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="profilePicModalLabel">Profile Picture</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body d-flex justify-content-center align-items-center">
        <img src="{{ profilePic.profile_pic.url }}" class="img-fluid">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('profile-pic').addEventListener('click', function() {
    var profilePicModal = new bootstrap.Modal(document.getElementById('profilePicModal'));
    profilePicModal.show();
  });
</script>

<style>
  .form-layout {
    background: linear-gradient(to right, #f8f9fa, #e9ecef);
  }

  .text-primary {
    color: #007bff !important;
  }

  .lead {
    font-size: 1.25rem;
    font-weight: 300;
  }

  .profile-pic {
    width: 100px; /* Adjust width */
    height: 100px; /* Adjust height */
    object-fit: cover; /* Ensure the image covers the square */
    border-radius: 0.5rem; /* Ensure rounded corners */
    transition: transform 0.3s ease;
    cursor: pointer; /* Change cursor to pointer */
  }

  .profile-pic:hover {
    transform: scale(1.1);
  }

  .modal-fullscreen {
    max-width: 100vw;
    max-height: 100vh;
  }

  .modal-content {
    background-color: #fff;
    border-radius: 0.5rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
  }

  .modal-body img {
    max-width: 100%;
    max-height: 80vh; /* Ensure the image fits within the viewport height */
    object-fit: contain; /* Preserve the aspect ratio */
  }
</style>
{% endblock %}
